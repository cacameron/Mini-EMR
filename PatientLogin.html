<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Patient Login – Mini EMR</title>
<link rel="stylesheet" href="style.css" />
</head>
<body>
<div class="login-container">
    <h2>Patient Login</h2>
    <form id="loginForm">
        <label for="id">Patient ID:</label>
        <input type="text" id="id" required />

        <label for="password">Password:</label>
        <input type="password" id="password" required />

        <button type="submit">Login</button>
    </form>
    <p id="error-message" style="color: red; display: none;">Invalid ID or password.</p>
</div>

<script>
// Example "database" of patients
const patientsDB = [
    {
        id: "P001",
        password: "pass123",
        name: "John Doe",
        age: 32,
        bp: "120/80",
        hr: 72,
        temp: "98.6°F",
        rr: 16,
        notes: "No current issues."
    },
    {
        id: "P002",
        password: "mypassword",
        name: "Jane Smith",
        age: 28,
        bp: "110/70",
        hr: 78,
        temp: "98.4°F",
        rr: 18,
        notes: "All vitals normal."
    }
];

document.getElementById("loginForm").addEventListener("submit", function(e) {
    e.preventDefault();

    const enteredID = document.getElementById("id").value.trim();
    const enteredPass = document.getElementById("password").value.trim();

    // Find matching patient
    const patient = patientsDB.find(p => p.id === enteredID && p.password === enteredPass);

    if (patient) {
        // Store patient data
        localStorage.setItem("patientData", JSON.stringify(patient));

        // Delay redirect slightly
        setTimeout(() => {
            window.location.href = "PatientView.html";
        }, 200);
    } else {
        const errorMsg = document.getElementById("error-message");
        errorMsg.style.display = "block";
    }
});
</script>
</body>
</html>
