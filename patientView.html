<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Patient Login - Mini EMR</title>
<link rel="stylesheet" href="style.css" />
</head>
<body>
<div class="login-container">
    <h2>Patient Login</h2>
    <form id="loginForm">
        <label for="username">Username</label>
        <input type="text" id="username" required autocomplete="off" />

        <label for="password">Password:</label>
        <input type="password" id="password" required autocomplete="off" />

        <button type="submit">Login</button>
    </form>
    <p id="error-message" style="color: red; display: none;">Invalid login. Try again</p>
</div>

<script>
const validUser = "john123";
const validPass = "pass123";

// Clear previous session on page load
localStorage.removeItem("patientData");

document.getElementById("loginForm").addEventListener("submit", function(e) {
    e.preventDefault();

    const enteredUser = document.getElementById("username").value.trim();
    const enteredPass = document.getElementById("password").value.trim();

    document.getElementById("error-message").style.display = "none";

    if (enteredUser === validUser && enteredPass === validPass) {
        const patientData = {
            name: "John Doe",
            age: 30,
            id: "P123456",
            bp: "120/80",
            hr: 72,
            temp: "98.6Â°F",
            rr: 16,
            notes: "Patient is in good health."
        };
        localStorage.setItem("patientData", JSON.stringify(patientData));

        // Redirect to patient view page
        window.location.href = "patientView.html";
    } else {
        localStorage.removeItem("patientData");
        document.getElementById("error-message").style.display = "block";
    }
});
</script>
</body>
</html>
